---
title: Project Euler (5/254)
author: Lucas Marandat
date: 2020-05-07T00:00:00.000Z
excerpt: This all my submissions and explanations
  to solve challenging programming problems.
hero: images/hero.png
---

## üöÄ Introduction

### What "Project Euler" is?

> ¬´ Project Euler is a series of challenging mathematical/computer programming problems that will require more than just mathematical insights to solve. Although mathematics will help you arrive at elegant and efficient methods, the use of a computer and programming skills will be required to solve most problems.
>
> The motivation for starting Project Euler, and its continuation, is to provide a platform for the inquiring mind to delve into unfamiliar areas and learn new concepts in a fun and recreational context. ¬ª

_From [ProjectEuler.net](https://projecteuler.net/)_

### Why did you do that!?

I've learned coding by solving algorithmic problems and I always like to solve them. Furthermore, by solving them, I'm increasing my algorithmic skills and enhancing my mathematical knowledge. So "Project Euler" seems to me to be a good challenge!

## üß© Lets go!

I've not done all of them, refer to the title to see my progress `.../254`.
For many of them, I helped myself from the internet to improve my solution and reduce complexity. I'm using this challenge to enhance my mathematical skills.

<details>
<summary>1Ô∏è‚É£ Multiples of 3 and 5</summary>
<br />

#### Instruction ([here](https://www.hackerrank.com/contests/projecteuler/challenges/euler001))

> If we list all the natural numbers below $10$ that are multiples of $3$ or $5$, we get $3, 5, 6$ and $9$. The sum of these multiples is $23$.
>
> Find the sum of all the multiples of $3$ or $5$ below.

#### My solution ([Run on repl.it](https://repl.it/@lucasmrdt/PE1-or-Multiples-of-3-and-5))

<br/>

Complexity: $O(1)$

```cpp
#include <iostream>

using namespace std;
using ll = long long;

ll arthmetic_sum(int n, int q) {
  return q * (n/q * (n/q+1ll)) / 2ll;
}

ll sum_of_multiples_under_n(int n) {
  return arthmetic_sum(n, 3) + arthmetic_sum(n, 5) - arthmetic_sum(n, 15);
}

int main() {
  int t;
  cin >> t;
  for (int i = 0; i < t; i++) {
      long n;
      cin >> n;
      cout << sum_of_multiples_under_n(n) << endl;
  }
  return 0;
}
```

#### Explanation

Let's $\alpha$ be the maximum threshold and $x$ be the multiple. We search the sum of multiples of $x$ such as $S(x,n) = 1x + 2x + 3x + \dots + nx, \text{ for } (x,n) \in \natnums^2 \text{ and } xn \le \alpha$.

Example for $\alpha = 6$ and $x = 3$ we have $n = 2 \; (xn \le \alpha)$ so:

$S(3,2) = 3 + 6$

This function can be written as follow:

$S(x,n) = x * (1 + 2 + 3 + \dots + n) \enspace \text{with } n \le \frac{\alpha}{x}$

From [Wikipedia](https://en.wikipedia.org/wiki/Summation) we know that:

$$
\sum_{i=1}^ni = \underbrace{1 + \dots + n}_{i \text{ times}} = \frac{n(n+1)}{2}
$$

<br />

So we can write:

$$
\forall (x,n) \in \natnums^2, \, n \le \frac{\alpha}{x} \enspace / \enspace S(x) = x \frac{n(n+1)}{2}
$$

<br />

We need to know the sum $T(x,n)$ of multiples of $3$ and $5$ bellow some threshold $\alpha$ but we must avoid conflicts. Conflict example, for $\alpha = 15$ we got:

$$
\begin{cases}
n = 5 \Leftrightarrow n \le \frac{\alpha}{3}  \enspace / \enspace S(3, 5) = 3 + 6 + 9 + 12 + \boldsymbol{15}
\\ n = 3 \Leftrightarrow n \le \frac{\alpha}{5}  \enspace / \enspace S(5, 3) = 5 + 10 + \boldsymbol{15} \end{cases}
$$

<br />

Here $15$ is given twice by $S(3,5)$ and $S(5,3)$. Conflict happens for all multiples of $3*5 = 15$. We must remove all of these conflicts to have the final $T(x,n)$ function. These conflicts refer to $S(15,n)$, so:

$$
T(x, n) = S(3, n) + S(5, n) - S(15, n)
$$

**Done üéâ**

</details>

<details>
<summary>2Ô∏è‚É£ Even Fibonnaci numbers</summary>
<br />

#### Instruction ([here](https://www.hackerrank.com/contests/projecteuler/challenges/euler002/problem))

> Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with $1$ and $2$, the first $10$ terms will be:
>
> $1,2,3,5,8,13,21,34,55,89,\dots$
>
> By considering the terms in the Fibonacci sequence whose values do not exceed $N$, find the sum of the even-valued terms.

#### My solution ([Run on repl.it](https://repl.it/@lucasmrdt/PE2-or-Even-Fibonacci-numbers))

<br/>

Complexity: $O(\ln n)$

```cpp
#include <iostream>

using namespace std;
using ll = long long;

ll fib(long max, long a = 1, long b = 2) {
  if (a > max) {
    return 0;
  }
  return ((a & 1) == 0 ? a : 0) + fib(max, b, a+b);
}

void solve() {
  long n;
  cin >> n;
  cout << fib(n) << endl;
}

int main() {
  int t;
  cin >> t;
  for (int i = 0; i < t; i++) {
    solve();
  }
  return 0;
}
```

#### Explanation

To explain you how the `fib` function works, let's notice that Fibonacci sequence can be written mathematically as follow:

$$
\forall n \in \{\N \; | \; n \ge 2\}, \enspace u_n = u_{n-2} + u_{n-1} \enspace \text{with } u_0 = 1 \text{ and } u_1 = 2
$$

Now, look at the ternary condition `(a & 1) == 0`, this condition only check is the number $a$ is an even number. Let's $f(x) = (x \, \& \, 1) == 0$ be the ternary condition:

$$
\begin{array}{c}
\text{For } a_{10} = 5 &\Leftrightarrow& a_2 = 101 &\Leftrightarrow& f(a) = 0 &&\text{ so 5 is not even.}
\\ \\
\text{For } a_{10} = 4 &\Leftrightarrow& a_2 = 100 &\Leftrightarrow& f(a) = 1 &&\text{ so 4 is even.}
\end{array}
$$

<br />

Then when $f(x)$ return $1$ we add the current fibonacci value to the fibonacci sum ($a$). We go ahead until the $max$ is reached (`if (a > max)`).

**Done üéâ**

</details>

<details>
<summary>3Ô∏è‚É£ Largest prime factor</summary>
<br />

#### Instruction ([here](https://www.hackerrank.com/contests/projecteuler/challenges/euler003/problem))

> The prime factors of $13195$ are $5, 7, 13 \text{ and } 29$.
>
> What is the largest prime factor of a given number $N$ ?

#### My solution ([Run on repl.it](https://repl.it/@lucasmrdt/PE3-or-Largest-prime-factor))

<br/>

Complexity: $O(\sqrt n)$

```cpp
#include <iostream>
#include <cstring>
#include <math.h>

using namespace std;
using ll = long long;

long get_largest_prime_factor(long n) {
  long i = 2;
  while (i*i <= n) {
    if (n%i == 0ll) {
      n /= i;
    } else {
      ++i;
    }
  }
  return n;
}

void solve() {
  long n;
  cin >> n;
  cout << get_largest_prime_factor(n) << endl;
}

int main() {
  int t;

  cin >> t;
  for (int i = 0; i < t; i++) {
    solve();
  }
  return 0;
}
```

#### Explanation

> ¬´ Every positive integer greater than 1 can be written as a product of prime numbers ¬ª

From [wikipedia](https://simple.wikipedia.org/wiki/Fundamental_theorem_of_arithmetic)

This tells us that:

$$
\forall x \in \{\N\,|\,x>1\},\; \forall p_n \in \{\underbrace{2,3,5,\dots,n}_{\text{prime numbers}}\}, \; \exist k_n \in \N^n \enspace / \enspace x = p_0^{k_0} * p_1^{k_0} * \dots * p_k^{k_k}
$$

<br />

So we just need to begin with the lowest prime number ($i = 2$), and divide the given number $x$ by $i$ as much as we can. Then we increment $i$ by $1$ (optimization could have been done by incrementing $i$ by $2$) and do the previous step until $i$ reach the threshold.

The threshold is set to the highest prime number which can divide our number:

$$
\text{max}_i = \sqrt x \; \Leftrightarrow \; \text{max}_i^2 = x
$$

When $i^2 \gt x \Leftrightarrow x = p_k^1$ and $p_k^1$ is the largest prime factor.

So the final transformed number $x_{\text{end}}$ is the largest prime factor of $x_{\text{init}}$.

**Done üéâ**

</details>

<details>
<summary>4Ô∏è‚É£ Largest palindrome product</summary>
<br />

#### Instruction ([here](https://www.hackerrank.com/contests/projecteuler/challenges/euler004))

> A palindromic number reads the same both ways. The smallest 6 digit palindrome made from the product of two 3-digit numbers is $101101 = 143 * 707$.
>
> Find the largest palindrome made from the product of two 3-digit numbers which is less than $N$.

#### My solution ([Run on repl.it](https://repl.it/@lucasmrdt/PE4-or-Largest-palindrome-product))

Complexity: $O((\text{MAX}-\text{MIN})^2)$

```cpp
// 101101 < N < 1E6

#include <iostream>

using namespace std;
using ll = long long;

const int MIN = 110; // 11*10
const int MAX = 999;

bool is_palindrome(int n) {
  int r = 0;
  for (int i = n; i != 0; i /= 10) {
    r = r*10 + i%10;
  }
  return r == n;
}

int get_largest_palindrome(int max) {
  int answer = 0;

  for (int i = MIN; i <= MAX; i += 11) {
    for (int j = MIN; j <= MAX; j++) {
      if (i*j >= max) {
        break;
      }
      if (i*j > answer && is_palindrome(i*j)) {
        answer = i*j;
      }
    }
  }
  return answer;
}

void solve() {
  long n;
  cin >> n;
  cout << get_largest_palindrome(n) << endl;
}

int main() {
  int t;

  cin >> t;
  for (int i = 0; i < t; i++) {
    solve();
  }
  return 0;
}
```

#### Explanation

First, start with simplest function: `is_palindrome()`. This function rewrites the number in the reversed order, if the reversed number is equal to its initial value then the given number is a palindrome.

Let's move to the important part:

1. We search two 3 digits numbers which the product is a palindrome. Let's $x$ be one of them: $x \in S = \{100,\dots,999\}$.
2. We can notice that $\forall x \ge 317,\; x^2 > 100\,000$. Which means that more than $75\%$ ($1 - \frac{317-100}{999-100} \approx 0.76$) of the products are $\ge 100\,000.$
3. Let's $y$ be a palindrome such that $\exist(a,b)\in S^2, \; a*b = y$. As $75\%$ of the products has $6$ digits we could write $\exist (k_1,k_2,k_3) \in D=\{1,\dots,9\}^3, \; y = k_1100\,000 + k_210\,000 + k_31\,000 + k_3100 + k_210 + k_1$.

So we can write:

$$
\begin{array}{c}
& \exist(a,b)\in S^2, \; a*b &=& y
\\\Leftrightarrow& \exist(a,b)\in S^2, \; a*b &=& \exist (k_1,k_2,k_3) \in D^3,\; k_1100\,000 + k_210\,000 + k_31\,000 + k_3100 + k_210 + k_1
\\\Leftrightarrow&\exist(a,b)\in S^2, \; a*b &=& \exist (k_1,k_2,k_3) \in D^3,\; k_1100\,001 + k_210\,010 + k_31\,100
\\\Leftrightarrow&\exist(a,b)\in S^2, \; a*b &=& \exist (k_1,k_2,k_3) \in D^3,\; 11 * (k_19\,091 + k_2910 + k_3100)
\end{array}
$$

As $a*b = 11 * (k_19\,091 + k_2910 + k_3100)$, whether $a$ or $b$ is multiple of $11$. ($11|a \lor 11|b$)

Then, let's $a \in \{x\in S : 11|x\}$ and $b \in S$, we loop for each value of $a$ and $b$ until $a * b > \text{max}$ and we save the largest founded palindrome.

**Done üéâ**

</details>

<details>
<summary>5Ô∏è‚É£ Smallest multiple</summary>
<br />

#### Instruction ([here](https://www.hackerrank.com/contests/projecteuler/challenges/euler005/problem))

> $2520$ is the smallest number that can be divided by each of the numbers from $1$ to $10$ without any remainder.
>
> What is the smallest positive number that is evenly divisible(divisible with no remainder) by all of the numbers from $1$ to $N$ ?

#### My solution ([Run on repl.it](https://repl.it/@lucasmrdt/PE5-or-Smallest-multiple))

<details>
<summary>Version 1 - Brute force üò±</summary>
<br />

```cpp
#include <iostream>
#include <cstring>

using namespace std;
using ll = long long;

void solve() {
  long n;
  cin >> n;

  long nb = n;
  long i = n-1;
  while (i >= 1) {
    if (nb % i != 0ll) {
      nb += n;
      i = n-1;
    } else {
      --i;
    }
  }
  cout << nb << endl;
}

int main() {
  int t;
  cin >> t;
  for (int i = 0; i < t; i++) {
    solve();
  }
  return 0;
}
```

#### Explanation

We just increment $nb$ until we get $\forall x \in [1,n], \; x|nb$.

**WIP üöß**

</details>

</details>

## üìö Resources

- [List of challenges](https://www.hackerrank.com/contests/projecteuler/challenges)
- [Solutions sources](https://www.xarg.org/puzzle/project-euler/)

## ‚úçüèª Something wrong or a suggestion? Suggest a change [here](https://github.com/lucasmrdt/personal-blog/blob/master/content/posts/2020-05-07-project-euler/index.md)
